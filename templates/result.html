<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Prediction Result</title>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='style.css') }}"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>

  <body class="result-page">
    <div class="container py-5">
      <div class="text-center mb-2">
        <h1 class="display-6 fw-bold">Prediction Result</h1>
        <p class="lead">
          Our AI has analyzed your image and provided the result below.
        </p>
      </div>
      <div class="result-container">
        <div class="card glass mx-auto p-3 shadow-sm" style="max-width: 500px">
          <p class="mb-1"><strong>Predicted Animal:</strong> {{ top_class }}</p>
          <p class="mb-1">
            <strong>Confidence:</strong> {{ '%.2f' | format(top_confidence *
            100) }}%
          </p>

          {% if top_confidence < confidence_threshold %}
          <div class="row align-items-start g-3 mt-1">
            <!-- Image Column -->
            <div class="col-md-6 text-center">
              <img
              src="{{ url_for('static', filename='uploads/' + image_file) }}"
                alt="Uploaded Image"
                class="img-thumbnail"
                style="max-height: 200px; max-width: 100%; object-fit: contain"
              />
            </div>

            <!-- Prediction Column -->
            <div class="col-md-6">
              <div class="alert alert-warning p-3 h-100" role="alert">
                <h6 class="alert-heading mb-2">Top 5 Predictions:</h6>
                <ul class="mb-2 small">
                  {% for cls, conf in prediction %}
                  <li>{{ cls }} – {{ '%.2f' | format(conf * 100) }}%</li>
                  {% endfor %}
                </ul>
                <hr class="my-2" />
                <p class="mb-0 small text-muted">
                  ⚠️ Low confidence – prediction may be inaccurate.
                </p>
              </div>
            </div>
          </div>
          {% else %}
          <div class="text-center mb-1">
            <img
              src="{{ url_for('static', filename='uploads/' + image_file) }}"
              alt="Uploaded Image"
              class="prediction-image img-thumbnail"
              style="max-height: 200px; max-width: 100%; object-fit: contain"
            />
          </div>
          {% endif %}

          <div class="text-center mt-1">
            <a href="/" class="btn btn-sm btn-outline-dark"
              >Try another image</a
            >
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
